{"remainingRequest":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\src\\components\\articledetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\src\\components\\articledetail.vue","mtime":1670223004631},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\babel.config.js","mtime":1649601330845},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666323412932},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":1666323415343},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666323412932},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":1666323415965}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0xlbm92by9EZXNrdG9wL2Jsb2cvYmxvZ2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8v6I635Y+W5paH56ug5YaF5a655ZKM6K+E6K665L+h5oGvCiAgICB0aGlzLmFydGljbGVkZXRhaWwodGhpcy4kcm91dGUucXVlcnkuaWQpOwogICAgdGhpcy5jb21tZW50b25lKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKTsKICAgIHRoaXMuY29tbWVudGFuZGxpa2UodGhpcy4kcm91dGUucXVlcnkuaWQpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzX2xpa2U6IGZhbHNlLAogICAgICAvL+W9k+WJjeeUqOaIt+aYr+WQpue7mei/meevh+aWh+eroOeCuei/h+i1ngogICAgICBjb21tZW50X251bTogMCwKICAgICAgbGlrZV9udW06IDAsCiAgICAgIC8vIOaWh+eroOivpuaDhQogICAgICBteUJsb2c6IHsKICAgICAgICBpZDogMCwKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgYXV0aG9yOiAiIgogICAgICB9LAogICAgICAvL+W9k+WJjei+k+WFpeeahOS4gOe6p+ivhOiuuuWGheWuuQogICAgICBydWxlRm9ybTogewogICAgICAgIGNvbnRlbnQ6ICIiCiAgICAgIH0sCiAgICAgIC8v5b2T5YmN6L6T5YWl55qE5LqM57qn6K+E6K665YaF5a65CiAgICAgIGZvcm0xOiB7CiAgICAgICAgZGVzYzogIiIKICAgICAgfSwKICAgICAgLy/or4TorrrooajljZXpqozor4Hop4TliJkKICAgICAgcnVsZXM6IHsKICAgICAgICBjb250ZW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi55WZ5LiL5L2g55qE6K+E6K665ZCn77yBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIC8v5a2Y5pS+5omA5pyJ6K+E6K665YaF5a65CiAgICAgIGNvbW1lbnQ6IFt7CiAgICAgICAgaW1ndXJsOiAiIiwKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgY29udGVudDogIiIsCiAgICAgICAgcmVjb21tZW50OiBbewogICAgICAgICAgaW1ndXJsOiAiIiwKICAgICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICAgIGNvbnRlbnQ6ICIiCiAgICAgICAgfV0KICAgICAgfV0sCiAgICAgIC8vICAg5Zue5aSN6K+E6K66CiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgZGlhbG9nRm9ybVZpc2libGUxOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uSW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXQoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICB0aGlzLnJ1bGVGb3JtLmNvbnRlbnQgPSBldmVudC5kYXRhOwogICAgfSwKICAgIC8vCiAgICBvbklucHV0MTogZnVuY3Rpb24gb25JbnB1dDEoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICB0aGlzLmZvcm0xLmRlc2MgPSBldmVudC5kYXRhOwogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIC8vIOivhOiuuuWSjOeCuei1ngogICAgY29tbWVudGFuZGxpa2U6IGZ1bmN0aW9uIGNvbW1lbnRhbmRsaWtlKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQsIHJlc3VsdDE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KCIvYXJ0aWNsZS9jb21tZW50YW5kbGlrZT9pZD0iLmNvbmNhdChpZCksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KCIvYWwvaXNsaWtlP2FpZD0iLmNvbmNhdChpZCwgIiZ1aWQ9IikuY29uY2F0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJkYXRhIikpLmlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3VsdDEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0MSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5jb21tZW50X251bSA9IHJlc3VsdC5kYXRhLm9iai5jb21tZW50X251bTsKICAgICAgICAgICAgICAgICAgX3RoaXMubGlrZV9udW0gPSByZXN1bHQuZGF0YS5vYmoubGlrZV9udW07CiAgICAgICAgICAgICAgICAgIF90aGlzLmlzX2xpa2UgPSByZXN1bHQxLmRhdGE7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLojrflj5bor4TorrrlkozngrnotZ7mlbDmja7miJDlip/vvIEiKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bor4TorrrlkozngrnotZ7mlbDmja7lpLHotKXvvIEiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxpa2U6IGZ1bmN0aW9uIGxpa2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi4kaHR0cC5nZXQoIi9hbC9hZGQ/YWlkPSIuY29uY2F0KF90aGlzMi4kcm91dGUucXVlcnkuaWQsICImdWlkPSIpLmNvbmNhdChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyZGF0YSIpKS5pZCksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzcC5kYXRhOwoKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmlzX2xpa2UgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jb21tZW50YW5kbGlrZShfdGhpczIuJHJvdXRlLnF1ZXJ5LmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXNwLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBub2xpa2U6IGZ1bmN0aW9uIG5vbGlrZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLiRodHRwLmdldCgiL2FsL2RlbGV0ZT9haWQ9Ii5jb25jYXQoX3RoaXMzLiRyb3V0ZS5xdWVyeS5pZCwgIiZ1aWQ9IikuY29uY2F0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJkYXRhIikpLmlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXNwLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaXNfbGlrZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5jb21tZW50YW5kbGlrZShfdGhpczMuJHJvdXRlLnF1ZXJ5LmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXNwLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmmL7npLrmlofnq6Dor6bmg4UKICAgIGFydGljbGVkZXRhaWw6IGZ1bmN0aW9uIGFydGljbGVkZXRhaWwoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcmVzdWx0LCByZXN1bHQxOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRodHRwLmdldCgiL2FydGljbGUvc2hvdz9pZD0iLmNvbmNhdChpZCksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczQubXlCbG9nID0gcmVzdWx0LmRhdGEub2JqOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kaHR0cC5nZXQoIi91c2VyL2ZpbmR1c2VyP2lkPSIuY29uY2F0KF90aGlzNC5teUJsb2cudWlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3VsdDEgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5teUJsb2cuYXV0aG9yID0gcmVzdWx0MS5kYXRhLm9iai51c2VybmFtZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcigi6I635Y+W5paH56ug5pWw5o2u5aSx6LSl77yBIik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bkuIDnuqfor4TorroKICAgIGNvbW1lbnRvbmU6IGZ1bmN0aW9uIGNvbW1lbnRvbmUoaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgcmVzdWx0LCBpLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJGh0dHAuZ2V0KCIvYWMvbGlzdDE/YWlkPSIuY29uY2F0KGlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICAgIF90aGlzNS5jb21tZW50ID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgaWYgKCEoaSA8IF90aGlzNS5jb21tZW50Lmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5jb21tZW50dHdvKF90aGlzNS5jb21tZW50W2ldLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczUuY29tbWVudFtpXS5yZWNvbW1lbnQgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIC8vIOW8uuWItuabtOaWsOaVsOaNrgogICAgICAgICAgICAgICAgX3RoaXM1LiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/ojrflj5bkuoznuqfor4TorroKICAgIGNvbW1lbnR0d286IGZ1bmN0aW9uIGNvbW1lbnR0d28oaWQpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRodHRwLmdldCgiL2FjL2xpc3QyP2NpZD0iLmNvbmNhdChpZCksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5o+Q5Lqk6K+E6K66CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHZhbGlkKSB7CiAgICAgICAgICB2YXIgYXJ0aWNsZUNvbW1lbnQsIHJlc3VsdDsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGFydGljbGVDb21tZW50ID0gewogICAgICAgICAgICAgICAgICAgIGFpZDogX3RoaXM3LiRyb3V0ZS5xdWVyeS5pZCwKICAgICAgICAgICAgICAgICAgICAvL+aWh+eroOeahGlkCiAgICAgICAgICAgICAgICAgICAgdWlkOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyZGF0YSIpKS5pZCwKICAgICAgICAgICAgICAgICAgICAvL+aWh+eroOS9nOiAheeahGlkCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogX3RoaXM3LnJ1bGVGb3JtLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgLy/lhoXlrrkKICAgICAgICAgICAgICAgICAgICBwaWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgcmVwbHlfdWlkOiAwIC8v5piv5ZOq5Liq6K+E6K6655qE5LqM57qn6K+E6K66CgogICAgICAgICAgICAgICAgICB9OyAvL+a3u+WKoAoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LiRodHRwLnBvc3QoIi9hYy9hZGRBYyIsIGFydGljbGVDb21tZW50LCB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgICBfdGhpczcuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNy5jb21tZW50b25lKF90aGlzNy4kcm91dGUucXVlcnkuaWQpOwoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy8g5a+55LiA57qn6K+E6K6655qE5by55Ye65qGGCiAgICByZXBseWNvbW1lbnRvbmU6IGZ1bmN0aW9uIHJlcGx5Y29tbWVudG9uZShjb21tZW50KSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmZvcm0xLmNvbW1lbnQgPSBjb21tZW50OwogICAgfSwKICAgIC8vIOWvueivhOiuuueahOWbnuWkjQogICAgc3VibWl0Rm9ybTE6IGZ1bmN0aW9uIHN1Ym1pdEZvcm0xKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCh2YWxpZCkgewogICAgICAgICAgdmFyIGFydGljbGVDb21tZW50LCByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM4LmZvcm0xKTsKICAgICAgICAgICAgICAgICAgYXJ0aWNsZUNvbW1lbnQgPSB7CiAgICAgICAgICAgICAgICAgICAgcGlkOiBfdGhpczguZm9ybTEuY29tbWVudC5pZCwKICAgICAgICAgICAgICAgICAgICByZXBseVVpZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcmRhdGEiKSkuaWQsCiAgICAgICAgICAgICAgICAgICAgdWlkOiBfdGhpczguZm9ybTEuY29tbWVudC51c2VyLmlkLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzOC5mb3JtMS5kZXNjLAogICAgICAgICAgICAgICAgICAgIGFpZDogTnVtYmVyKF90aGlzOC4kcm91dGUucXVlcnkuaWQpCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC4kaHR0cC5wb3N0KCIvYWMvYWRkQWMiLCBhcnRpY2xlQ29tbWVudCwgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpczguZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5zdWNjZXNzKHJlc3VsdC5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM4LmNvbW1lbnRvbmUoX3RoaXM4LiRyb3V0ZS5xdWVyeS5pZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczgucnVsZUZvcm0uY29udGVudCA9ICIiOwogICAgICAgICAgICAgICAgICBfdGhpczguZm9ybTEuZGVzYyA9ICIiOwogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDlr7nkuoznuqfor4TorrrnmoTlvLnlh7rmoYYKICAgIHJlcGx5Y29tbWVudHR3bzogZnVuY3Rpb24gcmVwbHljb21tZW50dHdvKGNvbW1lbnQpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZTEgPSB0cnVlOwogICAgICB0aGlzLmZvcm0xLmNvbW1lbnQgPSBjb21tZW50OwogICAgfSwKICAgIC8vIOWvueWbnuWkjeeahOWbnuWkjQogICAgc3VibWl0Rm9ybTI6IGZ1bmN0aW9uIHN1Ym1pdEZvcm0yKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSh2YWxpZCkgewogICAgICAgICAgdmFyIGFydGljbGVDb21tZW50LCByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM5LmZvcm0xKTsKICAgICAgICAgICAgICAgICAgYXJ0aWNsZUNvbW1lbnQgPSB7CiAgICAgICAgICAgICAgICAgICAgcGlkOiBfdGhpczkuZm9ybTEuY29tbWVudC5pZCwKICAgICAgICAgICAgICAgICAgICByZXBseVVpZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcmRhdGEiKSkuaWQsCiAgICAgICAgICAgICAgICAgICAgdWlkOiBfdGhpczkuZm9ybTEuY29tbWVudC51c2VyLmlkLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzOS5mb3JtMS5kZXNjLAogICAgICAgICAgICAgICAgICAgIGFpZDogTnVtYmVyKF90aGlzOS4kcm91dGUucXVlcnkuaWQpCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS4kaHR0cC5wb3N0KCIvYWMvYWRkQWMiLCBhcnRpY2xlQ29tbWVudCwgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpczkuZGlhbG9nRm9ybVZpc2libGUxID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczkuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS5jb21tZW50b25lKF90aGlzOS4kcm91dGUucXVlcnkuaWQpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LnJ1bGVGb3JtLmNvbnRlbnQgPSAiIjsKICAgICAgICAgICAgICAgICAgX3RoaXM5LmZvcm0xLmRlc2MgPSAiIjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5LiA57qn6K+E6K66CiAgICB5aWNvbnRlbnQ6IGZ1bmN0aW9uIHlpY29udGVudChjb21tZW50KSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpCwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbW1lbnQuaWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEwLiRodHRwLmRlbGV0ZSgiL2FjL2RlbGV0ZTE/Y2lkPSIgKyBjb21tZW50LmlkLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZGF0YScpKS50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMC5zZW50OwoKICAgICAgICAgICAgICAgIC8v5Yig6Zmk5oiQ5YqfCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC4kbWVzc2FnZS5zdWNjZXNzKHJlc3VsdC5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5jb21tZW50b25lKF90aGlzMTAuJHJvdXRlLnF1ZXJ5LmlkKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuJG1lc3NhZ2UuZXJyb3IocmVzdWx0LmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKTsKICAgIH0sCiAgICAvLyDliKDpmaTkuoznuqfor4TorroKICAgIGVyY29udGVudDogZnVuY3Rpb24gZXJjb250ZW50KGNvbW1lbnQpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkLCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29tbWVudCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuJGh0dHAuZGVsZXRlKCIvYWMvZGVsZXRlP2NpZD0iICsgY29tbWVudC5pZCwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTEuc2VudDsKCiAgICAgICAgICAgICAgICAvL+WIoOmZpOaIkOWKnwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTEuY29tbWVudG9uZShfdGhpczExLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczExLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["mounted","data","is_like","comment_num","like_num","myBlog","id","content","title","author","ruleForm","form1","desc","rules","required","message","trigger","comment","imgurl","username","recomment","dialogFormVisible","dialogFormVisible1","methods","onInput","event","console","onInput1","goBack","commentandlike","headers","Authorization","result","result1","like","then","nolike","articledetail","commentone","i","res","commenttwo","submitForm","formName","valid","articleComment","aid","uid","pid","reply_uid","replycommentone","submitForm1","replyUid","replycommenttwo","submitForm2","yicontent","confirmButtonText","cancelButtonText","type","ercontent"],"sourceRoot":"src/components","sources":["articledetail.vue"],"sourcesContent":["<!--文章详情-->\r\n<template>\r\n  <div style=\"background-color: #efefef; text-align: left\">\r\n    <!-- 背景图片 -->\r\n    <div class=\"background-image\">\r\n      <!-- 文章内容 -->\r\n      <el-card\r\n        style=\"\r\n          width: 100%;\r\n          min-height: 400px;\r\n          height: auto !important;\r\n          margin-bottom: 20px;\r\n        \"\r\n      >\r\n        <el-page-header @back=\"goBack\" content=\"查看文章\"></el-page-header>\r\n        <!-- 文章内容 -->\r\n        <h1 style=\"text-align: center;font-family: 楷体\">{{myBlog.title}}</h1>\r\n        <p style=\"margin-left: 200px;font-weight:bold;font-size: 17px;\">作者：{{myBlog.author}}</p>\r\n        <div class=\"contentBox\" v-html=\"myBlog.content\" style=\"width:70%;margin-left:auto;margin-right:auto;\"></div>\r\n\r\n        <!-- 评论内容 -->\r\n        <el-card\r\n          style=\"\r\n            width: 80%;\r\n            min-height: 200px;\r\n            height: auto !important;\r\n            margin-left: 10%;\r\n            margin-top: 2vh;\r\n            margin-bottom: 20px;\r\n          \"\r\n        >\r\n          <div style=\"display: flex\">\r\n            <div style=\"font-size: 25px; font-weight: 500\">\r\n              <i class=\"el-icon-chat-line-round\" style=\"color: #4facfe\"></i>&nbsp;&nbsp;评论\r\n            </div>\r\n            <div style=\"margin-left: 650px;margin-top: 20px;font-size: 18px;\">\r\n              {{comment_num}} 条评论 <div class=\"el-icon-chat-line-round\"></div>\r\n              | {{like_num}} 人点赞\r\n              <div v-if=\"is_like==false\" @click=\"like\" style=\"color: red\" class=\"glyphicon glyphicon-heart-empty\"></div>\r\n              <div v-else @click=\"nolike\" style=\"color: red\" class=\"glyphicon glyphicon-heart\"></div>\r\n            </div>\r\n          </div>\r\n          <!-- 评论的展示 -->\r\n          <div style=\"margin-left: 5vh; margin-right: 10vh\">\r\n            <!--头像 昵称 回复 删除-->\r\n            <div\r\n              v-for=\"(comment, index) in comment\"\r\n              :key=\"index\"\r\n              style=\"border-bottom: #d9d9d9 solid 1px;margin-top:10px;\"\r\n            >\r\n              <div style=\"display: flex\">\r\n                <el-avatar :size=\"45\" :src=\"comment.user.avatar\"></el-avatar>\r\n                <span class=\"comment-username\">{{\r\n                  comment.user.nickname\r\n                }}</span>\r\n                <!-- 只有评论的人和视频的作者可以删除评论-->\r\n                <span\r\n                  style=\"\r\n                    color: red;\r\n                    padding-top: 15px;\r\n                    margin-left: 10px;\r\n                    font-size: 10px;\r\n                  \"\r\n                  @click=\"deletecommentone(comment)\"\r\n                  >删除</span\r\n                >\r\n              </div>\r\n              <div class=\"comment-content\">{{ comment.content }}</div>\r\n              <!-- 对评论的回复 -->\r\n              <div\r\n                v-for=\"(recomment, item) in comment.recomment\"\r\n                :key=\"item\"\r\n                style=\"\r\n                  margin-left: 10vh;\r\n                  margin-top: 2vh;\r\n                  border-top: #d9d9d9 solid 1px;\r\n                \"\r\n              >\r\n                <!-- 评论回复的内容 -->\r\n                <div style=\"display: flex; margin-top: 1vh\">\r\n                  <el-avatar\r\n                    :size=\"45\"\r\n                    :src=\"recomment.replyUser.avatar\"\r\n                  ></el-avatar>\r\n                  <span class=\"comment-username\">{{\r\n                    recomment.replyUser.nickname\r\n                  }}</span>\r\n                  <span\r\n                    style=\"\r\n                      color: red;\r\n                      padding-top: 15px;\r\n                      margin-left: 10px;\r\n                      font-size: 10px;\r\n                    \"\r\n                    @click=\"deletecomment(recomment)\"\r\n                    >删除</span\r\n                  >\r\n                </div>\r\n                <div class=\"comment-content recomment\">\r\n                  {{ recomment.content }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--  -->\r\n        </el-card>\r\n\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted() {\r\n    //获取文章内容和评论信息\r\n    this.articledetail(this.$route.query.id);\r\n    this.commentone(this.$route.query.id);\r\n    this.commentandlike(this.$route.query.id);\r\n  },\r\n  data() {\r\n    return {\r\n      is_like:false,//当前用户是否给这篇文章点过赞\r\n      comment_num:0,\r\n      like_num:0,\r\n\r\n      // 文章详情\r\n      myBlog: {\r\n        id: 0,\r\n        content: \"\",\r\n        title: \"\",\r\n        author:\"\",\r\n      },\r\n      //当前输入的一级评论内容\r\n      ruleForm: {\r\n        content: \"\",\r\n      },\r\n      //当前输入的二级评论内容\r\n      form1: {\r\n        desc: \"\",\r\n      },\r\n      //评论表单验证规则\r\n      rules: {\r\n        content: [\r\n          { required: true, message: \"留下你的评论吧！\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    //存放所有评论内容\r\n      comment: [\r\n        {\r\n          imgurl: \"\",\r\n          username: \"\",\r\n          content: \"\",\r\n          recomment: [\r\n            {\r\n              imgurl:\"\",\r\n              username: \"\",\r\n              content: \"\",\r\n            },\r\n          ],\r\n        }\r\n      ],\r\n      //   回复评论\r\n      dialogFormVisible: false,\r\n      dialogFormVisible1: false,\r\n    };\r\n  },\r\n  methods: {\r\n    onInput(event) {\r\n      console.log(event);\r\n      this.ruleForm.content = event.data;\r\n    },\r\n    //\r\n    onInput1(event) {\r\n      console.log(event);\r\n      this.form1.desc = event.data;\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 评论和点赞\r\n    async commentandlike(id) {\r\n      const result = await this.$http.get(`/article/commentandlike?id=${id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      const result1 = await this.$http.get(`/al/islike?aid=${id}&uid=${JSON.parse(localStorage.getItem(\"userdata\")).id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      if (result&&result1) {\r\n        this.comment_num=result.data.obj.comment_num;\r\n        this.like_num=result.data.obj.like_num;\r\n        this.is_like=result1.data;\r\n        this.$message.success(\"获取评论和点赞数据成功！\");\r\n      }else{\r\n        this.$message.error(\"获取评论和点赞数据失败！\");\r\n      }\r\n    },\r\n    async like() {\r\n      this.$http.get(`/al/add?aid=${this.$route.query.id}&uid=${JSON.parse(localStorage.getItem(\"userdata\")).id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      }).then(resp=>{\r\n        if (resp) {\r\n          let res = resp.data;\r\n          if (res.code === 200) {\r\n            this.is_like=true;\r\n            this.commentandlike(this.$route.query.id);\r\n            this.$message.success(res.message);\r\n          } else {\r\n            this.$message.error(res.message);\r\n          }\r\n        } else {\r\n          this.$message.error(resp.data.message);\r\n        }\r\n      });\r\n    },\r\n    async nolike() {\r\n      this.$http.get(`/al/delete?aid=${this.$route.query.id}&uid=${JSON.parse(localStorage.getItem(\"userdata\")).id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      }).then(resp=>{\r\n        if (resp) {\r\n          let res = resp.data;\r\n          if (res.code === 200) {\r\n            this.is_like=false;\r\n            this.commentandlike(this.$route.query.id);\r\n            this.$message.success(res.message);\r\n          } else {\r\n            this.$message.error(res.message);\r\n          }\r\n        } else {\r\n          this.$message.error(resp.data.message);\r\n        }\r\n      });\r\n    },\r\n    // 显示文章详情\r\n    async articledetail(id) {\r\n      const result = await this.$http.get(`/article/show?id=${id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      if (result) {\r\n        this.myBlog = result.data.obj;\r\n        const result1 = await this.$http.get(`/user/finduser?id=${this.myBlog.uid}`,{\r\n          headers: {\r\n            Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n          }\r\n        });\r\n        this.myBlog.author=result1.data.obj.username;\r\n      } else {\r\n        this.$message.error(\"获取文章数据失败！\");\r\n      }\r\n    },\r\n    // 获取一级评论\r\n    async commentone(id) {\r\n      const result = await this.$http.get(`/ac/list1?aid=${id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      // console.log(result);\r\n      this.comment = result.data;\r\n      for (var i = 0; i < this.comment.length; i++) {\r\n        //对于每个一级评论，获取他的二级评论\r\n        const res = await this.commenttwo(this.comment[i].id);\r\n        this.comment[i].recomment = res;\r\n      }\r\n      // 强制更新数据\r\n      this.$forceUpdate();\r\n    },\r\n    //获取二级评论\r\n    async commenttwo(id) {\r\n      const result = await this.$http.get(`/ac/list2?cid=${id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      return result.data;\r\n    },\r\n    //提交评论\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          const articleComment = {\r\n            aid: this.$route.query.id,//文章的id\r\n            uid: JSON.parse(localStorage.getItem(\"userdata\")).id,//文章作者的id\r\n            content: this.ruleForm.content,//内容\r\n            pid: 0,\r\n            reply_uid: 0,//是哪个评论的二级评论\r\n          };\r\n          //添加\r\n          const result = await this.$http.post(\"/ac/addAc\", articleComment,{\r\n            headers: {\r\n              Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n            }\r\n          });\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 对一级评论的弹出框\r\n    replycommentone(comment) {\r\n      this.dialogFormVisible = true;\r\n      this.form1.comment = comment;\r\n    },\r\n    // 对评论的回复\r\n    submitForm1(formName) {\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          console.log(this.form1);\r\n          const articleComment = {\r\n            pid: this.form1.comment.id,\r\n            replyUid: JSON.parse(localStorage.getItem(\"userdata\")).id,\r\n            uid: this.form1.comment.user.id,\r\n            content: this.form1.desc,\r\n            aid: Number(this.$route.query.id),\r\n          };\r\n          const result = await this.$http.post(\"/ac/addAc\", articleComment,{\r\n            headers: {\r\n              Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n            }\r\n          });\r\n          this.dialogFormVisible = false;\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n          this.ruleForm.content = \"\";\r\n          this.form1.desc = \"\";\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 对二级评论的弹出框\r\n    replycommenttwo(comment) {\r\n      this.dialogFormVisible1 = true;\r\n      this.form1.comment = comment;\r\n    },\r\n    // 对回复的回复\r\n    submitForm2(formName) {\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          console.log(this.form1);\r\n          const articleComment = {\r\n            pid: this.form1.comment.id,\r\n            replyUid: JSON.parse(localStorage.getItem(\"userdata\")).id,\r\n            uid: this.form1.comment.user.id,\r\n            content: this.form1.desc,\r\n            aid: Number(this.$route.query.id),\r\n          };\r\n          const result = await this.$http.post(\"/ac/addAc\", articleComment,{\r\n            headers: {\r\n              Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n            }\r\n          });\r\n          this.dialogFormVisible1 = false;\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n          this.ruleForm.content = \"\";\r\n          this.form1.desc = \"\";\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 删除一级评论\r\n    yicontent(comment) {\r\n      this.$confirm(\"此操作将永久删除, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n      .then(async () => {\r\n        console.log(comment.id);\r\n        const result = await this.$http.delete(\r\n                \"/ac/delete1?cid=\" + comment.id,{\r\n                  headers: {\r\n                    Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n                  }\r\n                }\r\n        );\r\n        //删除成功\r\n        if (result.data.code == 200) {\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n        } else {\r\n          this.$message.error(result.data.message);\r\n        }\r\n      })\r\n    },\r\n    // 删除二级评论\r\n    ercontent(comment) {\r\n      this.$confirm(\"此操作将永久删除, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n      .then(async () => {\r\n        console.log(comment);\r\n        const result = await this.$http.delete(\r\n                \"/ac/delete?cid=\" + comment.id,{\r\n                  headers: {\r\n                    Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n                  }\r\n                }\r\n        );\r\n        //删除成功\r\n        if (result.data.code == 200) {\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n        } else {\r\n          this.$message.error(result.data.message);\r\n        }\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nimage {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n// 评论的样式\r\n.comment-username {\r\n  font-size: 20px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding-top: 10px;\r\n  margin-left: 2vh;\r\n}\r\n.replay {\r\n  margin-left: 20px;\r\n  padding-top: 10px;\r\n  color: red;\r\n}\r\n.comment-content {\r\n  margin-left: 8vh;\r\n  font-size: 18px;\r\n}\r\n.recomment {\r\n  margin-top: 5px;\r\n  color: #4c4948;\r\n}\r\n</style>\r\n"]}]}