{"remainingRequest":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\src\\views\\play\\play.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\src\\views\\play\\play.vue","mtime":1670224328458},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666323412932},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":1666323415343},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666323412932},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":1666323415965},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\babel.config.js","mtime":1649601330845},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666323412932},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":1666323415343},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666323412932},{"path":"C:\\Users\\Lenovo\\Desktop\\blog\\blogadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":1666323415965}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0xlbm92by9EZXNrdG9wL2Jsb2cvYmxvZ2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICJ2aWRlby5qcy9kaXN0L3ZpZGVvLWpzLmNzcyI7CmltcG9ydCB2aWRlb2pzIGZyb20gInZpZGVvLmpzIjsgLy8gaW1wb3J0IFZ1ZUVtb2ppIGZyb20gImVtb2ppLXZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzX2xpa2U6IGZhbHNlLAogICAgICAvL+W9k+WJjeeUqOaIt+aYr+WQpue7mei/meevh+aWh+eroOeCuei/h+i1ngogICAgICBjb21tZW50X251bTogMCwKICAgICAgbGlrZV9udW06IDAsCiAgICAgIGF1dGhvcjogIiIsCiAgICAgIHVpZDogIiIsCiAgICAgIGRvd25sb2FkVXJsOiAiIiwKICAgICAgaWQ6ICIiLAogICAgICAvL+inhumikWlkCiAgICAgIG5hbWU6ICIiLAogICAgICAvLyDop4bpopEKICAgICAgdmlkZW9PcHRpb25zOiB7CiAgICAgICAgY29udHJvbHM6IHRydWUsCiAgICAgICAgLy/oh6rliqjmkq3mlL7lsZ7mgKcsbXV0ZWQ66Z2Z6Z+z5pKt5pS+CiAgICAgICAgYXV0b3BsYXk6ICJtdXRlZCIsCiAgICAgICAgLy/lu7rorq7mtY/op4jlmajmmK/lkKblupTlnKg8dmlkZW8+5Yqg6L295YWD57Sg5ZCO56uL5Y2z5byA5aeL5LiL6L296KeG6aKR5pWw5o2u44CCCiAgICAgICAgcHJlbG9hZDogImF1dG8iLAogICAgICAgIC8v6K6+572u6KeG6aKR5pKt5pS+5Zmo55qE5pi+56S65a695bqm77yI5Lul5YOP57Sg5Li65Y2V5L2N77yJCiAgICAgICAgd2lkdGg6ICIxMDUwIiwKICAgICAgICAvL+iuvue9ruinhumikeaSreaUvuWZqOeahOaYvuekuumrmOW6pu+8iOS7peWDj+e0oOS4uuWNleS9je+8iQogICAgICAgIGhlaWdodDogIjQ1MCIsCiAgICAgICAgcGxheWJhY2tSYXRlczogWzAuNSwgMSwgMS41LCAyXSwKICAgICAgICBsYW5ndWFnZTogImVuIiwKICAgICAgICAvLyDliJ3lp4vljJbor63oqIAKICAgICAgICBzb3VyY2VzOiBbXQogICAgICB9LAogICAgICBydWxlRm9ybTogewogICAgICAgIGNvbnRlbnQ6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY29udGVudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIueVmeS4i+S9oOeahOivhOiuuuWQp++8gSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyAg6K+E6K66CiAgICAgIGNvbW1lbnQ6IFtdLAogICAgICAvLyAgIOWbnuWkjeivhOiuugogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlMTogZmFsc2UsCiAgICAgIGZvcm0xOiB7CiAgICAgICAgZGVzYzogIiIKICAgICAgfSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICIxMDBweCIsCiAgICAgIHBsYWNlaG9sZGVyOiAi55WZ5LiL5L2g55qE6K+E6K665ZCnIiwKICAgICAgY29udGVudDogIiIKICAgIH07CiAgfSwKICAvLyBjb21wb25lbnRzOiB7CiAgLy8gICBWdWVFbW9qaSwKICAvLyB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGVtb2oKICAgIG9uSW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXQoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQuZGF0YSwgIjEiKTsKICAgICAgdGhpcy5ydWxlRm9ybS5jb250ZW50ID0gZXZlbnQuZGF0YTsgLy8gZXZlbnQuZGF0YSBjb250YWlucyB0aGUgdmFsdWUgb2YgdGhlIHRleHRhcmVhCiAgICB9LAogICAgLy8KICAgIG9uSW5wdXQxOiBmdW5jdGlvbiBvbklucHV0MShldmVudCkgewogICAgICBjb25zb2xlLmxvZyhldmVudC5kYXRhLCAiMiIpOwogICAgICB0aGlzLmZvcm0xLmRlc2MgPSBldmVudC5kYXRhOyAvLyBldmVudC5kYXRhIGNvbnRhaW5zIHRoZSB2YWx1ZSBvZiB0aGUgdGV4dGFyZWEKICAgIH0sCiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICAvLyDor4TorrrlkozngrnotZ4KICAgIGNvbW1lbnRhbmRsaWtlOiBmdW5jdGlvbiBjb21tZW50YW5kbGlrZShpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0LCByZXN1bHQxOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLmdldCgiL3ZpZGVvL2NvbW1lbnRhbmRsaWtlP2lkPSIuY29uY2F0KGlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoIi92bC9pc2xpa2U/dmlkPSIuY29uY2F0KGlkLCAiJnVpZD0iKS5jb25jYXQoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcmRhdGEiKSkuaWQpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZGF0YScpKS50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0MSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmNvbW1lbnRfbnVtID0gcmVzdWx0LmRhdGEub2JqLmNvbW1lbnRfbnVtOwogICAgICAgICAgICAgICAgICBfdGhpcy5saWtlX251bSA9IHJlc3VsdC5kYXRhLm9iai5saWtlX251bTsKICAgICAgICAgICAgICAgICAgX3RoaXMuaXNfbGlrZSA9IHJlc3VsdDEuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuiOt+WPluivhOiuuuWSjOeCuei1nuaVsOaNruaIkOWKn++8gSIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluivhOiuuuWSjOeCuei1nuaVsOaNruWksei0pe+8gSIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbGlrZTogZnVuY3Rpb24gbGlrZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLiRodHRwLmdldCgiL3ZsL2FkZD92aWQ9Ii5jb25jYXQoX3RoaXMyLiRyb3V0ZS5xdWVyeS5pZCwgIiZ1aWQ9IikuY29uY2F0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJkYXRhIikpLmlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXNwLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNfbGlrZSA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvbW1lbnRhbmRsaWtlKF90aGlzMi4kcm91dGUucXVlcnkuaWQpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlc3AuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG5vbGlrZTogZnVuY3Rpb24gbm9saWtlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuJGh0dHAuZ2V0KCIvdmwvZGVsZXRlP3ZpZD0iLmNvbmNhdChfdGhpczMuJHJvdXRlLnF1ZXJ5LmlkLCAiJnVpZD0iKS5jb25jYXQoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcmRhdGEiKSkuaWQpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZGF0YScpKS50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3AuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5pc19saWtlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNvbW1lbnRhbmRsaWtlKF90aGlzMy4kcm91dGUucXVlcnkuaWQpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHJlc3AuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPluinhumikeaVsOaNrgogICAgZ2V0dmlkZW86IGZ1bmN0aW9uIGdldHZpZGVvKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlc3VsdCwgcmVzdWx0MTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kaHR0cC5nZXQoIi92aWRlby9wbGF5P2lkPSIuY29uY2F0KGlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3VsdC5kYXRhLmNvZGUgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyB0aGlzLnZpZGVvID0gcmVzdWx0LmRhdGEub2JqOwogICAgICAgICAgICAgICAgX3RoaXM0Lm5hbWUgPSByZXN1bHQuZGF0YS5vYmoubmFtZTsKICAgICAgICAgICAgICAgIF90aGlzNC5pZCA9IHJlc3VsdC5kYXRhLm9iai5pZDsKICAgICAgICAgICAgICAgIF90aGlzNC51aWQgPSByZXN1bHQuZGF0YS5vYmoudWlkOyAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQuZGF0YS5vYmopKTsKCiAgICAgICAgICAgICAgICBfdGhpczQuZG93bmxvYWRVcmwgPSByZXN1bHQuZGF0YS5vYmoudmlkZW9Vcmw7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kaHR0cC5nZXQoIi91c2VyL2ZpbmR1c2VyP2lkPSIuY29uY2F0KF90aGlzNC51aWQpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZGF0YScpKS50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlc3VsdDEgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5hdXRob3IgPSByZXN1bHQxLmRhdGEub2JqLnVzZXJuYW1lOwoKICAgICAgICAgICAgICAgIF90aGlzNC5pbml0VmlkZW8ocmVzdWx0LmRhdGEub2JqLnZpZGVvVXJsKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UuZXJyb3IocmVzdWx0LmRhdGEubWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDop4bpopHmkq3mlL4KICAgIGluaXRWaWRlbzogZnVuY3Rpb24gaW5pdFZpZGVvKHVybCkgewogICAgICAvLyAgdGhpcy5wbGF5ZXIuc3JjKHtzcmM6dXJsLHR5cGU6dnRweWV9KTsKICAgICAgdGhpcy5wbGF5ZXIuc3JjKHsKICAgICAgICBzcmM6IHVybAogICAgICB9KTsKICAgIH0sCiAgICAvLyDlsZXnpLrkuIDnuqfor4TorroKICAgIGNvbW1lbnRvbmU6IGZ1bmN0aW9uIGNvbW1lbnRvbmUoaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgcmVzdWx0LCBpLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJGh0dHAuZ2V0KCIvdmMvbGlzdDE/dmlkPSIuY29uY2F0KGlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICAgIF90aGlzNS5jb21tZW50ID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICBpID0gMDsKICAgICAgICAgICAgICAgIGk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmICghKGkgPCBfdGhpczUuY29tbWVudC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuY29tbWVudHR3byhfdGhpczUuY29tbWVudFtpXS5pZCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1lbnRbaV0ucmVjb21tZW50ID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhpczUuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+WxleekuuS6jOe6p+ivhOiuugogICAgY29tbWVudHR3bzogZnVuY3Rpb24gY29tbWVudHR3byhpZCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJGh0dHAuZ2V0KCIvdmMvbGlzdDI/Y2lkPSIuY29uY2F0KGlkKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHJlc3VsdC5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5a+56KeG6aKR55qE5Zue5aSNCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucnVsZUZvcm0uY29udGVudCA9PSAiIikgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fovpPlhaXor4TorrrlhoXlrrnvvIEiKTsKICAgICAgfQoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHZhbGlkKSB7CiAgICAgICAgICB2YXIgYXJ0aWNsZUNvbW1lbnQsIHJlc3VsdDsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGFydGljbGVDb21tZW50ID0gewogICAgICAgICAgICAgICAgICAgIHZpZDogTnVtYmVyKF90aGlzNy4kcm91dGUucXVlcnkuaWQpLAogICAgICAgICAgICAgICAgICAgIHVpZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcmRhdGEiKSkuaWQsCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogX3RoaXM3LnJ1bGVGb3JtLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgcGlkOiAwLAogICAgICAgICAgICAgICAgICAgIHJlcGx5X3VpZDogMAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuJGh0dHAucG9zdCgiL3ZjL2FkZCIsIGFydGljbGVDb21tZW50LCB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSkudG9rZW4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgICBfdGhpczcuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNy5jb21tZW50b25lKF90aGlzNy4kcm91dGUucXVlcnkuaWQpOwoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgLy8gdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlMSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWvueS4gOe6p+ivhOiuuueahOW8ueWHuuahhgogICAgcmVwbHljb21tZW50b25lOiBmdW5jdGlvbiByZXBseWNvbW1lbnRvbmUoY29tbWVudCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtMS5jb21tZW50ID0gY29tbWVudDsKICAgIH0sCiAgICAvLyDlr7nor4TorrrnmoTlm57lpI0KICAgIHN1Ym1pdEZvcm0xOiBmdW5jdGlvbiBzdWJtaXRGb3JtMShmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmZvcm0xLmRlc2MgPT0gIiIpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36L6T5YWl6K+E6K665YaF5a6577yBIik7CiAgICAgIH0KCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgodmFsaWQpIHsKICAgICAgICAgIHZhciBhcnRpY2xlQ29tbWVudCwgcmVzdWx0OwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzOC5mb3JtMSk7CiAgICAgICAgICAgICAgICAgIGFydGljbGVDb21tZW50ID0gewogICAgICAgICAgICAgICAgICAgIHBpZDogX3RoaXM4LmZvcm0xLmNvbW1lbnQuaWQsCiAgICAgICAgICAgICAgICAgICAgLy/ooqvlm57lpI3or4TorrppZAogICAgICAgICAgICAgICAgICAgIHJlcGx5VWlkOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyZGF0YSIpKS5pZCwKICAgICAgICAgICAgICAgICAgICAvL+WGmeivhOiuuueahOS6ugogICAgICAgICAgICAgICAgICAgIHVpZDogX3RoaXM4LmZvcm0xLmNvbW1lbnQudXNlci5pZCwKICAgICAgICAgICAgICAgICAgICAvL+iiq+WbnuWkjeS6ugogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzOC5mb3JtMS5kZXNjLAogICAgICAgICAgICAgICAgICAgIC8v5LqM57qn6K+E6K665YaF5a65CiAgICAgICAgICAgICAgICAgICAgdmlkOiBOdW1iZXIoX3RoaXM4LiRyb3V0ZS5xdWVyeS5pZCkgLy/mlofnq6BpZAoKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LiRodHRwLnBvc3QoIi92Yy9hZGQiLCBhcnRpY2xlQ29tbWVudCwgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpczguZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5zdWNjZXNzKHJlc3VsdC5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM4LmNvbW1lbnRvbmUoX3RoaXM4LiRyb3V0ZS5xdWVyeS5pZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczguZm9ybTEuZGVzYyA9ICIiOwogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDlr7nkuoznuqfor4TorrrnmoTlvLnlh7rmoYYKICAgIHJlcGx5Y29tbWVudHR3bzogZnVuY3Rpb24gcmVwbHljb21tZW50dHdvKHJlY29tbWVudCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlMSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybTEucmVjb21tZW50ID0gcmVjb21tZW50OwogICAgfSwKICAgIC8vIOWvueWbnuWkjeeahOWbnuWkjQogICAgc3VibWl0Rm9ybTI6IGZ1bmN0aW9uIHN1Ym1pdEZvcm0yKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSh2YWxpZCkgewogICAgICAgICAgdmFyIGFydGljbGVDb21tZW50LCByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM5LmZvcm0xKTsKICAgICAgICAgICAgICAgICAgYXJ0aWNsZUNvbW1lbnQgPSB7CiAgICAgICAgICAgICAgICAgICAgcGlkOiBfdGhpczkuZm9ybTEucmVjb21tZW50LmlkLAogICAgICAgICAgICAgICAgICAgIC8v6KKr5Zue5aSN6K+E6K66aWQKICAgICAgICAgICAgICAgICAgICByZXBseVVpZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcmRhdGEiKSkuaWQsCiAgICAgICAgICAgICAgICAgICAgLy/lhpnor4TorrrnmoTkuroKICAgICAgICAgICAgICAgICAgICB1aWQ6IF90aGlzOS5mb3JtMS5yZWNvbW1lbnQudXNlci5pZCwKICAgICAgICAgICAgICAgICAgICAvL+iiq+WbnuWkjeS6ugogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzOS5mb3JtMS5kZXNjLAogICAgICAgICAgICAgICAgICAgIC8v5LqM57qn6K+E6K665YaF5a65CiAgICAgICAgICAgICAgICAgICAgdmlkOiBOdW1iZXIoX3RoaXM5LiRyb3V0ZS5xdWVyeS5pZCkgLy/mlofnq6BpZAoKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LiRodHRwLnBvc3QoIi92Yy9hZGQiLCBhcnRpY2xlQ29tbWVudCwgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpczkuZGlhbG9nRm9ybVZpc2libGUxID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczkuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS5jb21tZW50b25lKF90aGlzOS4kcm91dGUucXVlcnkuaWQpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LmZvcm0xLmRlc2MgPSAiIjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5LiA57qn6K+E6K66CiAgICBkZWxldGVjb21tZW50b25lOiBmdW5jdGlvbiBkZWxldGVjb21tZW50b25lKGNvbW1lbnQpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkLCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29tbWVudC5pZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuJGh0dHAuZGVsZXRlKCIvdmMvZGVsZXRlMT9jaWQ9IiArIGNvbW1lbnQuaWQsIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YS5jb2RlKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTAuY29tbWVudG9uZShfdGhpczEwLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczEwLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSk7IC8vIC5jYXRjaCgoKSA9PiB7CiAgICAgIC8vICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgIC8vICAgICB0eXBlOiAiaW5mbyIsCiAgICAgIC8vICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5Yig6ZmkIiwKICAgICAgLy8gICB9KTsKICAgICAgLy8gfSk7CiAgICB9LAogICAgZG93bmxvYWQ6IGZ1bmN0aW9uIGRvd25sb2FkKCkgewogICAgICB2YXIgdXJsID0gdGhpcy5kb3dubG9hZFVybC5zdWJzdHJpbmcoMjgsIHRoaXMuZG93bmxvYWRVcmwubGVuZ3RoKTsKICAgICAgdGhpcy5kb3duTG9hZFZpZGVvKHVybCk7CiAgICB9LAogICAgZG93bkxvYWRWaWRlbzogZnVuY3Rpb24gZG93bkxvYWRWaWRlbyh1cmwpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHZhciByZXMsIGRvd25VcmwsIGxpbmssIGZpbGVUeXBlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczExLiRodHRwLmdldCgiL2ZpbGUvZG93bmxvYWQ/ZmlsZU5hbWU9IiArIHVybCwgewogICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICBkb3duVXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlcy5kYXRhXSkpOwogICAgICAgICAgICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IGRvd25Vcmw7CiAgICAgICAgICAgICAgICBmaWxlVHlwZSA9ICIuIiArIHVybC5zcGxpdCgiLiIpWzFdOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZVR5cGUpOwogICAgICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgbmV3IERhdGUoKS52YWx1ZU9mKCkudG9TdHJpbmcoKSArIGZpbGVUeXBlKTsgLy8g5LiL6L295paH5Lu255qE5ZCN56ew5Y+K5paH5Lu257G75Z6L5ZCO57yACgogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7IC8vIOS4i+i9veWujOaIkOenu+mZpOWFg+e0oAoKICAgICAgICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGRvd25VcmwpOyAvLyDph4rmlL7mjolibG9i5a+56LGhCgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWIoOmZpOS6jOe6p+ivhOiuugogICAgZGVsZXRlY29tbWVudDogZnVuY3Rpb24gZGVsZXRlY29tbWVudChjb21tZW50KSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpCwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbW1lbnQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLiRodHRwLmRlbGV0ZSgiL3ZjL2RlbGV0ZT9jaWQ9IiArIGNvbW1lbnQuaWQsIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJkYXRhJykpLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDEyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTIuY29tbWVudG9uZShfdGhpczEyLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczEyLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSk7IC8vIC5jYXRjaCgoKSA9PiB7CiAgICAgIC8vICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgIC8vICAgICB0eXBlOiAiaW5mbyIsCiAgICAgIC8vICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5Yig6ZmkIiwKICAgICAgLy8gICB9KTsKICAgICAgLy8gfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXR2aWRlbyh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICB0aGlzLnBsYXllciA9IHZpZGVvanModGhpcy4kcmVmcy52aWRlb1BsYXllciwgdGhpcy52aWRlb09wdGlvbnMsIGZ1bmN0aW9uIG9uUGxheWVyUmVhZHkoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJvblBsYXllclJlYWR5IiwgdGhpcyk7CiAgICB9KTsKICAgIHRoaXMuY29tbWVudG9uZSh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7CiAgfSwKICBiZWZvcmVVbm1vdW50OiBmdW5jdGlvbiBiZWZvcmVVbm1vdW50KCkgewogICAgaWYgKHRoaXMucGxheWVyKSB7CiAgICAgIHRoaXMucGxheWVyLmRpc3Bvc2UoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["data","is_like","comment_num","like_num","author","uid","downloadUrl","id","name","videoOptions","controls","autoplay","preload","width","height","playbackRates","language","sources","ruleForm","content","rules","required","message","trigger","comment","dialogFormVisible","dialogFormVisible1","form1","desc","formLabelWidth","placeholder","methods","onInput","event","console","onInput1","goBack","commentandlike","headers","Authorization","result","result1","like","then","nolike","getvideo","initVideo","url","src","commentone","i","res","commenttwo","submitForm","formName","valid","articleComment","vid","pid","reply_uid","resetForm","replycommentone","submitForm1","replyUid","replycommenttwo","recomment","submitForm2","deletecommentone","confirmButtonText","cancelButtonText","type","download","downLoadVideo","responseType","downUrl","window","link","document","fileType","deletecomment","mounted","beforeUnmount"],"sourceRoot":"src/views/play","sources":["play.vue"],"sourcesContent":["<!--视频播放-->\r\n<template>\r\n  <div style=\"background-color: rgb(239, 239, 239)\">\r\n    <el-card\r\n      style=\"\r\n        width: 100%;\r\n        min-height: 600px;\r\n        height: auto !important;\r\n        margin-top: 2vh;\r\n        margin-bottom: 20px;\r\n      \"\r\n    >\r\n      <el-page-header @back=\"goBack\" content=\"视频播放\"></el-page-header>\r\n      <el-card style=\"margin-top: 2vh\">\r\n        <div class=\"mr30 mt10\">\r\n<!--          视频标题-->\r\n          <div class=\"link-color fontExtraLarge\"\r\n               style=\"text-align: center; padding: 10px\"\r\n          >{{ name }}</div>\r\n          <div style=\"display: flex\">\r\n            <p style=\"font-weight:bold;font-size: 17px;\">上传人：{{author}}</p>\r\n          </div>\r\n          <br />\r\n<!--          视频-->\r\n          <video\r\n            ref=\"videoPlayer\"\r\n            class=\"video-js vjs-default-skin vjs-big-play-centered mt10\"\r\n          ></video>\r\n          <br /> <br />\r\n          <el-button type=\"primary\" @click=\"download\" class=\"download\" style=\"color:#fff;\"\r\n            ><i class=\"el-icon-download\"></i>下载</el-button\r\n          >\r\n        </div>\r\n      </el-card>\r\n      <!-- 评论内容 -->\r\n      <el-card\r\n        style=\"\r\n          width: 100%;\r\n          min-height: 200px;\r\n          height: auto !important;\r\n          margin-top: 2vh;\r\n          margin-bottom: 20px;\r\n          text-align: left;\r\n        \"\r\n      >\r\n        <div style=\"display:flex;\">\r\n            <div style=\"font-size: 25px; font-weight: 500\">\r\n                <i class=\"el-icon-chat-line-round\" style=\"color: #4facfe\"></i\r\n                >&nbsp;&nbsp;评论\r\n            </div>\r\n            <div style=\"margin-left: 850px;margin-top: 20px;font-size: 18px;\">\r\n                {{comment_num}} 条评论 <div class=\"el-icon-chat-line-round\"></div>\r\n                | {{like_num}} 人点赞\r\n                <div v-if=\"is_like==false\" @click=\"like\" style=\"color: red\" class=\"glyphicon glyphicon-heart-empty\"></div>\r\n                <div v-else @click=\"nolike\" style=\"color: red\" class=\"glyphicon glyphicon-heart\"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 评论的展示 -->\r\n        <div style=\"margin-left: 5vh; margin-right: 10vh\">\r\n          <div\r\n            v-for=\"(comment, index) in comment\"\r\n            :key=\"index\"\r\n            style=\"border-bottom: #d9d9d9 solid 1px\"\r\n          >\r\n            <div style=\"display: flex\">\r\n              <el-avatar :size=\"45\" :src=\"comment.user.avatar\"></el-avatar>\r\n              <span class=\"comment-username\">{{ comment.user.nickname }}</span>\r\n              <span class=\"replay\" @click=\"replycommentone(comment)\">回复</span>\r\n              <span\r\n                style=\"\r\n                  color: #409eff;\r\n                  padding-top: 15px;\r\n                  margin-left: 10px;\r\n                  font-size: 10px;\r\n                \"\r\n                @click=\"deletecommentone(comment)\">删除</span>\r\n            </div>\r\n            <div class=\"comment-content\">{{ comment.content }}</div>\r\n            <!-- 对评论的回复 -->\r\n            <div\r\n              v-for=\"(recomment, item) in comment.recomment\"\r\n              :key=\"item\"\r\n              style=\"\r\n                margin-left: 10vh;\r\n                margin-top: 2vh;\r\n                border-top: #d9d9d9 solid 1px;\r\n              \"\r\n            >\r\n              <!-- 评论回复的内容 -->\r\n              <div style=\"display: flex; margin-top: 1vh\">\r\n                <el-avatar\r\n                  :size=\"45\"\r\n                  :src=\"recomment.replyUser.avatar\"\r\n                ></el-avatar>\r\n                <span class=\"comment-username\">{{\r\n                  recomment.replyUser.nickname\r\n                }}</span>\r\n                <span\r\n                  @click=\"replycommenttwo(comment)\"\r\n                  style=\"\r\n                    color: red;\r\n                    margin-left: 2vh;\r\n                    margin-top: 15px;\r\n                    font-size: 10px;\r\n                  \"\r\n                  >回复</span\r\n                >\r\n                <span\r\n                  style=\"\r\n                    color: #409eff;\r\n                    padding-top: 15px;\r\n                    margin-left: 10px;\r\n                    font-size: 10px;\r\n                  \"\r\n                  @click=\"deletecomment(recomment)\"\r\n                  >删除</span\r\n                >\r\n              </div>\r\n              <div class=\"comment-content recomment\">\r\n                {{ recomment.content }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--  -->\r\n      </el-card>\r\n\r\n      <!-- 对评论的回复 -->\r\n      <el-dialog\r\n        title=\"回复\"\r\n        :visible.sync=\"dialogFormVisible\"\r\n        style=\"width: 50%; margin-left: auto; margin-right: auto\"\r\n        center\r\n      >\r\n        <el-form\r\n          :model=\"ruleForm\"\r\n          :rules=\"rules\"\r\n          ref=\"ruleForm\"\r\n          class=\"demo-ruleForm\"\r\n          style=\"margin-top: 1vh\"\r\n        >\r\n          <el-form-item label=\"\" prop=\"desc\">\r\n            <VueEmoji\r\n              ref=\"emoji\"\r\n              :value=\"form1.desc\"\r\n              @input=\"onInput1\"\r\n              style=\"margin-left: 50px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"resetForm('ruleForm')\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm1('ruleForm')\"\r\n            >确 定</el-button\r\n          >\r\n        </div>\r\n      </el-dialog>\r\n      <!-- 对回复的回复 -->\r\n      <el-dialog\r\n        title=\"回复\"\r\n        :visible.sync=\"dialogFormVisible1\"\r\n        style=\"width: 50%; margin-left: auto; margin-right: auto\"\r\n        center\r\n      >\r\n        <el-form\r\n          :model=\"ruleForm\"\r\n          :rules=\"rules\"\r\n          ref=\"ruleForm\"\r\n          class=\"demo-ruleForm\"\r\n          style=\"margin-top: 1vh\"\r\n        >\r\n          <el-form-item label=\"\" prop=\"desc\">\r\n            <VueEmoji\r\n              ref=\"emoji\"\r\n              :value=\"form1.desc\"\r\n              @input=\"onInput1\"\r\n              style=\"margin-left: 50px\"\r\n            />\r\n            <!-- <el-input\r\n              type=\"textarea\"\r\n              v-model=\"form1.desc\"\r\n              placeholder=\"留下你的评论吧！\"\r\n            ></el-input> -->\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <!-- <el-button @click=\"resetForm('ruleForm')\">重置</el-button> -->\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"resetForm('ruleForm')\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm2('ruleForm')\"\r\n            >确 定</el-button\r\n          >\r\n        </div>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"video.js/dist/video-js.css\";\r\nimport videojs from \"video.js\";\r\n// import VueEmoji from \"emoji-vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n        is_like:false,//当前用户是否给这篇文章点过赞\r\n        comment_num:0,\r\n        like_num:0,\r\n\r\n      author:\"\",\r\n      uid:\"\",\r\n      downloadUrl: \"\",\r\n      id: \"\", //视频id\r\n      name: \"\",\r\n      // 视频\r\n      videoOptions: {\r\n        controls: true,\r\n        //自动播放属性,muted:静音播放\r\n        autoplay: \"muted\",\r\n        //建议浏览器是否应在<video>加载元素后立即开始下载视频数据。\r\n        preload: \"auto\",\r\n        //设置视频播放器的显示宽度（以像素为单位）\r\n        width: \"1050\",\r\n        //设置视频播放器的显示高度（以像素为单位）\r\n        height: \"450\",\r\n        playbackRates: [0.5, 1, 1.5, 2],\r\n        language: \"en\", // 初始化语言\r\n        sources: [],\r\n      },\r\n      ruleForm: {\r\n        content: \"\",\r\n      },\r\n      rules: {\r\n        content: [\r\n          { required: true, message: \"留下你的评论吧！\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      //  评论\r\n      comment: [],\r\n      //   回复评论\r\n      dialogFormVisible: false,\r\n      dialogFormVisible1: false,\r\n      form1: {\r\n        desc: \"\",\r\n      },\r\n      formLabelWidth: \"100px\",\r\n      placeholder: \"留下你的评论吧\",\r\n      content: \"\",\r\n    };\r\n  },\r\n  // components: {\r\n  //   VueEmoji,\r\n  // },\r\n  methods: {\r\n    // emoj\r\n    onInput(event) {\r\n      console.log(event.data, \"1\");\r\n      this.ruleForm.content = event.data;\r\n      // event.data contains the value of the textarea\r\n    },\r\n    //\r\n    onInput1(event) {\r\n      console.log(event.data, \"2\");\r\n      this.form1.desc = event.data;\r\n      // event.data contains the value of the textarea\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n      // 评论和点赞\r\n      async commentandlike(id) {\r\n          const result = await this.$http.get(`/video/commentandlike?id=${id}`,{\r\n              headers: {\r\n                  Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n              }\r\n          });\r\n          const result1 = await this.$http.get(`/vl/islike?vid=${id}&uid=${JSON.parse(localStorage.getItem(\"userdata\")).id}`,{\r\n              headers: {\r\n                  Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n              }\r\n          });\r\n          if (result&&result1) {\r\n              this.comment_num=result.data.obj.comment_num;\r\n              this.like_num=result.data.obj.like_num;\r\n              this.is_like=result1.data;\r\n              this.$message.success(\"获取评论和点赞数据成功！\");\r\n          }else{\r\n              this.$message.error(\"获取评论和点赞数据失败！\");\r\n          }\r\n      },\r\n      async like() {\r\n          this.$http.get(`/vl/add?vid=${this.$route.query.id}&uid=${JSON.parse(localStorage.getItem(\"userdata\")).id}`,{\r\n              headers: {\r\n                  Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n              }\r\n          }).then(resp=>{\r\n              if (resp) {\r\n                  let res = resp.data;\r\n                  if (res.code === 200) {\r\n                      this.is_like=true;\r\n                      this.commentandlike(this.$route.query.id);\r\n                      this.$message.success(res.message);\r\n                  } else {\r\n                      this.$message.error(res.message);\r\n                  }\r\n              } else {\r\n                  this.$message.error(resp.data.message);\r\n              }\r\n          });\r\n      },\r\n      async nolike() {\r\n          this.$http.get(`/vl/delete?vid=${this.$route.query.id}&uid=${JSON.parse(localStorage.getItem(\"userdata\")).id}`,{\r\n              headers: {\r\n                  Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n              }\r\n          }).then(resp=>{\r\n              if (resp) {\r\n                  let res = resp.data;\r\n                  if (res.code === 200) {\r\n                      this.is_like=false;\r\n                      this.commentandlike(this.$route.query.id);\r\n                      this.$message.success(res.message);\r\n                  } else {\r\n                      this.$message.error(res.message);\r\n                  }\r\n              } else {\r\n                  this.$message.error(resp.data.message);\r\n              }\r\n          });\r\n      },\r\n    // 获取视频数据\r\n    async getvideo(id) {\r\n      const result = await this.$http.get(`/video/play?id=${id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      if (result.data.code == 200) {\r\n        // this.video = result.data.obj;\r\n        this.name = result.data.obj.name;\r\n        this.id = result.data.obj.id;\r\n        this.uid = result.data.obj.uid;\r\n        // console.log(JSON.stringify(result.data.obj));\r\n        this.downloadUrl = result.data.obj.videoUrl;\r\n        const result1 = await this.$http.get(`/user/finduser?id=${this.uid}`,{\r\n          headers: {\r\n            Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n          }\r\n        });\r\n        this.author=result1.data.obj.username;\r\n        this.initVideo(result.data.obj.videoUrl);\r\n      } else {\r\n        this.$message.error(result.data.message);\r\n      }\r\n    },\r\n    // 视频播放\r\n    initVideo(url) {\r\n      //  this.player.src({src:url,type:vtpye});\r\n      this.player.src({ src: url });\r\n    },\r\n    // 展示一级评论\r\n    async commentone(id) {\r\n      const result = await this.$http.get(`/vc/list1?vid=${id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      // console.log(result);\r\n      this.comment = result.data;\r\n      var i = 0;\r\n      for (i; i < this.comment.length; i++) {\r\n        const res = await this.commenttwo(this.comment[i].id);\r\n        this.comment[i].recomment = res;\r\n      }\r\n      this.$forceUpdate();\r\n    },\r\n    //展示二级评论\r\n    async commenttwo(id) {\r\n      const result = await this.$http.get(`/vc/list2?cid=${id}`,{\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      // console.log(result.data, \"1\");\r\n      return result.data;\r\n    },\r\n    // 对视频的回复\r\n    submitForm(formName) {\r\n      if (this.ruleForm.content == \"\") {\r\n        return this.$message.error(\"请输入评论内容！\");\r\n      }\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          const articleComment = {\r\n            vid: Number(this.$route.query.id),\r\n            uid: JSON.parse(localStorage.getItem(\"userdata\")).id,\r\n            content: this.ruleForm.content,\r\n            pid: 0,\r\n            reply_uid: 0,\r\n          };\r\n          const result = await this.$http.post(\"/vc/add\", articleComment,{\r\n            headers: {\r\n              Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n            }\r\n          });\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      // this.$refs[formName].resetFields();\r\n      this.dialogFormVisible = false;\r\n      this.dialogFormVisible1 = false;\r\n    },\r\n    // 对一级评论的弹出框\r\n    replycommentone(comment) {\r\n      this.dialogFormVisible = true;\r\n      this.form1.comment = comment;\r\n    },\r\n    // 对评论的回复\r\n    submitForm1(formName) {\r\n      if (this.form1.desc == \"\") {\r\n        return this.$message.error(\"请输入评论内容！\");\r\n      }\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          console.log(this.form1);\r\n          const articleComment = {\r\n            pid: this.form1.comment.id, //被回复评论id\r\n            replyUid: JSON.parse(localStorage.getItem(\"userdata\")).id, //写评论的人\r\n            uid: this.form1.comment.user.id, //被回复人\r\n            content: this.form1.desc, //二级评论内容\r\n            vid: Number(this.$route.query.id), //文章id\r\n          };\r\n          const result = await this.$http.post(\"/vc/add\", articleComment,{\r\n            headers: {\r\n              Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n            }\r\n          });\r\n          this.dialogFormVisible = false;\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n          this.form1.desc = \"\";\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 对二级评论的弹出框\r\n    replycommenttwo(recomment) {\r\n      this.dialogFormVisible1 = true;\r\n      this.form1.recomment = recomment;\r\n    },\r\n    // 对回复的回复\r\n    submitForm2(formName) {\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          console.log(this.form1);\r\n          const articleComment = {\r\n            pid: this.form1.recomment.id, //被回复评论id\r\n            replyUid: JSON.parse(localStorage.getItem(\"userdata\")).id, //写评论的人\r\n            uid: this.form1.recomment.user.id, //被回复人\r\n            content: this.form1.desc, //二级评论内容\r\n            vid: Number(this.$route.query.id), //文章id\r\n          };\r\n          const result = await this.$http.post(\"/vc/add\", articleComment,{\r\n            headers: {\r\n              Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n            }\r\n          });\r\n          this.dialogFormVisible1 = false;\r\n          this.$message.success(result.data.message);\r\n          this.commentone(this.$route.query.id);\r\n          this.form1.desc = \"\";\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 删除一级评论\r\n    deletecommentone(comment) {\r\n      this.$confirm(\"此操作将永久删除, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          console.log(comment.id);\r\n          const result = await this.$http.delete(\r\n            \"/vc/delete1?cid=\" + comment.id,{\r\n                    headers: {\r\n                      Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n                    }\r\n                  }\r\n          );\r\n          console.log(result.data.code);\r\n          if (result.data.code === 200) {\r\n            this.$message.success(result.data.message);\r\n            this.commentone(this.$route.query.id);\r\n          } else {\r\n            this.$message.error(result.data.message);\r\n          }\r\n        })\r\n        // .catch(() => {\r\n        //   this.$message({\r\n        //     type: \"info\",\r\n        //     message: \"已取消删除\",\r\n        //   });\r\n        // });\r\n    },\r\n    download() {\r\n      var url = this.downloadUrl.substring(28, this.downloadUrl.length);\r\n      this.downLoadVideo(url);\r\n    },\r\n    async downLoadVideo(url) {\r\n      const res = await this.$http.get(\"/file/download?fileName=\" + url, {\r\n        responseType: \"blob\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n        }\r\n      });\r\n      const downUrl = window.URL.createObjectURL(new Blob([res.data]));\r\n      const link = document.createElement(\"a\");\r\n      link.href = downUrl;\r\n      var fileType = \".\" + url.split(\".\")[1];\r\n      console.log(fileType);\r\n      link.setAttribute(\"download\", new Date().valueOf().toString() + fileType); // 下载文件的名称及文件类型后缀\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link); // 下载完成移除元素\r\n      window.URL.revokeObjectURL(downUrl); // 释放掉blob对象\r\n    },\r\n    // 删除二级评论\r\n    deletecomment(comment) {\r\n      this.$confirm(\"此操作将永久删除, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          console.log(comment);\r\n          const result = await this.$http.delete(\r\n            \"/vc/delete?cid=\" + comment.id,{\r\n                    headers: {\r\n                      Authorization: \"Bearer \" + JSON.parse(localStorage.getItem('userdata')).token\r\n                    }\r\n                  }\r\n          );\r\n          if (result.data.code == 200) {\r\n            this.$message.success(result.data.message);\r\n            this.commentone(this.$route.query.id);\r\n          } else {\r\n            this.$message.error(result.data.message);\r\n          }\r\n        })\r\n        // .catch(() => {\r\n        //   this.$message({\r\n        //     type: \"info\",\r\n        //     message: \"已取消删除\",\r\n        //   });\r\n        // });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getvideo(this.$route.query.id);\r\n    this.player = videojs(\r\n      this.$refs.videoPlayer,\r\n      this.videoOptions,\r\n      function onPlayerReady() {\r\n        console.log(\"onPlayerReady\", this);\r\n      }\r\n    );\r\n    this.commentone(this.$route.query.id);\r\n  },\r\n  beforeUnmount() {\r\n    if (this.player) {\r\n      this.player.dispose();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.card {\r\n  height: 87px;\r\n  background-image: radial-gradient(\r\n    circle 248px at center,\r\n    #16d9e3 0%,\r\n    #30c7ec 47%,\r\n    #46aef7 100%\r\n  );\r\n  line-height: 87px;\r\n  color: #fff;\r\n  font-size: 29px;\r\n  letter-spacing: -1px;\r\n  font-weight: 600;\r\n}\r\n.link-color {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  padding-top: 10px;\r\n}\r\n// 评论的样式\r\n.comment-username {\r\n  font-size: 20px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding-top: 10px;\r\n  margin-left: 2vh;\r\n}\r\n.replay {\r\n  padding-top: 15px;\r\n  margin-left: 10px;\r\n  font-size: 10px;\r\n  color: red;\r\n}\r\n.comment-content {\r\n  margin-left: 8vh;\r\n  font-size: 18px;\r\n}\r\n.recomment {\r\n  margin-top: 5px;\r\n  color: #4c4948;\r\n}\r\n.download {\r\n  text-decoration: none;\r\n  margin-left: 1050px;\r\n  margin-top: -30px;\r\n  color: #66b1ff;\r\n  font-size: 20px;\r\n}\r\n</style>\r\n"]}]}